# This is a config file for 'new-ch-frb-l1'.
#
# It is intended for a specific situation during Arun's visit:
#    - L1 code is running on frb-compute-0
#    - frb-compute-0 interfaces are configured as 10.0.0.10x, with no link bonding
#    - L0 code is running on frb-l2l3, but for reasons we don't understand the 10 Gbps
#      interface is throttled to 1 Gbps

nbeams: 16

# Divides data into four "streams", with four beams per stream.
# In this configuration, each stream is on a different 1 Gbps interface, but a different UDP port.
ipaddr: [ "10.0.0.101", "10.0.0.102", "10.0.0.103", "10.0.0.104" ]
port: 6677

# RPC server locations for each stream.
rpc_address: [ "tcp://10.0.0.101:5555", "tcp://10.0.0.102:5555", "tcp://10.0.0.103:5555", "tcp://10.0.0.104:5555" ]

# The "assembled_chunk_ringbuf" is the handoff between the assembler and dedispersion threads.
# Each chunk is approximately one second of data.

assembled_chunk_ringbuf_capacity: 4

# The "telescoping_ringbuf" holds chunks for retrieval by RPC,
# after they have been processed by dedispersion threads.  Each
# level of the telescoping ring buffer is downsampled by a factor
# of two, relative to the previous one.
#
# In this example, the number of chunks in the telescoping ring 
# buffer is 12 (= 4+4+4), and it represents 28 seconds of data
# (= 4+8+16).

telescoping_ringbuf_capacity: [ 4, 4, 4 ]
